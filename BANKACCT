#!/usr/bin/env python3
# Simulated COBOL Banking System
import os

def main():
    print("=" * 46)
    print("üè¶ COBOL BANKING SYSTEM")
    print("=" * 46)
    
    while True:
        print(" ")
        print("üìã MAIN MENU:")
        print("  1. Create New Account")
        print("  2. View All Accounts")
        print("  3. Exit System")
        print(" ")
        choice = input("Enter your choice (1-3): ")
        
        if choice == "1":
            create_account()
        elif choice == "2":
            view_accounts()
        elif choice == "3":
            print("üëã Thank you for using COBOL Banking System!")
            break
        else:
            print("‚ùå Invalid option. Please enter 1, 2, or 3.")

def create_account():
    print(" ")
    print("üí≥ CREATE NEW ACCOUNT")
    print("=" * 21)
    
    acct_id = input("Enter Account ID (max 10 chars): ")
    name = input("Enter Customer Name (max 30 chars): ")
    balance = input("Enter Initial Balance: $")
    acct_type = input("Enter Account Type (S=Savings, C=Checking): ")
    
    # Write to customer file
    with open("CUSTOMERS.DAT", "a") as f:
        f.write(f"{acct_id:<10}{name:<30}{balance:>9}{acct_type}\n")
    
    print(" ")
    print("‚úÖ Account created successfully!")
    print(f"   Account ID: {acct_id}")
    print(f"   Name: {name}")
    print(f"   Balance: ${balance}")
    print(f"   Type: {acct_type}")

def view_accounts():
    print(" ")
    print("üë• ALL CUSTOMER ACCOUNTS")
    print("=" * 24)
    
    try:
        with open("CUSTOMERS.DAT", "r") as f:
            lines = f.readlines()
            
        if not lines or all(line.strip() == "" for line in lines):
            print("üì≠ No accounts found.")
            print("   Create your first account using option 1!")
        else:
            print("Account ID | Customer Name              | Balance    | Type")
            print("-----------|----------------------------|------------|-----")
            
            for line in lines:
                if line.strip():  # Skip empty lines
                    acct_id = line[0:10].strip()
                    name = line[10:40].strip()
                    balance = line[40:49].strip()
                    acct_type = line[49:50].strip()
                    print(f"{acct_id:<10} | {name:<30} | ${balance:>8} | {acct_type}")
                    
    except FileNotFoundError:
        print("üì≠ No accounts found.")
        print("   Create your first account using option 1!")

if __name__ == "__main__":
    main()
